<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VENUSTARS ê³ ê° ë¦¬ë·° - 17,145ê°œ ì‹¤ì œ í›„ê¸°</title>
<meta name="description" content="VENUSTARS ìºë¹„ì´ˆí¬Â·ì½œë¼ê²Â·ë‹¤ì´ì•„ëª¬ë“œ í„ 17,145ê°œ ì‹¤ì œ ê³ ê° ë¦¬ë·°. í•­ì•”Â·ë‹¹ë‡¨Â·í˜ˆì•• ê´€ë¦¬ ì‹¤ì œ íš¨ê³¼. í‰ì  4.9ì .">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">

<!-- PWA ë©”íƒ€íƒœê·¸ -->
<link rel="manifest" href="/manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="ìºë¹„ì´ˆí¬ ë¦¬ë·°">
<link rel="apple-touch-icon" href="/icon-192.png">
<meta name="theme-color" content="#1a5c3a">
<meta name="msapplication-TileColor" content="#1a5c3a">

<style>
  :root {
    --green-deep: #1a5c3a;
    --green-mid: #2d7a52;
    --green-light: #e8f5ee;
    --green-border: #1a5c3a;
    --accent-gold: #c9973a;
    --text-dark: #1a1a1a;
    --text-mid: #444;
    --text-light: #777;
    --bg: #f9f7f4;
    --white: #ffffff;
    --shadow: 0 2px 16px rgba(0,0,0,0.08);
    --radius: 12px;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Noto Sans KR', sans-serif;
    background: var(--bg);
    color: var(--text-dark);
    min-height: 100vh;
  }

  /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .site-header {
    background: var(--green-deep);
    color: white;
    padding: 28px 20px 24px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .site-header::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.04) 0%, transparent 60%);
    pointer-events: none;
  }
  .header-badge {
    display: inline-block;
    background: rgba(255,255,255,0.15);
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 20px;
    padding: 4px 14px;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.08em;
    margin-bottom: 10px;
    color: rgba(255,255,255,0.9);
  }
  .site-title {
    font-family: 'Noto Serif KR', serif;
    font-size: clamp(26px, 6vw, 36px);
    font-weight: 700;
    letter-spacing: 0.04em;
    color: white;
    line-height: 1.2;
  }
  .site-subtitle {
    margin-top: 6px;
    font-size: 13px;
    font-weight: 300;
    color: rgba(255,255,255,0.75);
    letter-spacing: 0.05em;
  }
  .product-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    justify-content: center;
    margin-top: 14px;
  }
  .product-tag {
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.25);
    border-radius: 20px;
    padding: 5px 13px;
    font-size: 12px;
    font-weight: 500;
    color: rgba(255,255,255,0.9);
    cursor: pointer;
    transition: all 0.2s;
  }
  .product-tag:hover,
  .product-tag.active {
    background: rgba(255,255,255,0.25);
    border-color: rgba(255,255,255,0.5);
    color: white;
  }
  .header-links {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
    margin-top: 14px;
    padding-top: 14px;
    border-top: 1px solid rgba(255,255,255,0.15);
  }
  .header-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 7px 16px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s;
    letter-spacing: 0.01em;
  }
  .header-link-naver {
    background: #03c75a;
    color: white;
    border: 1px solid rgba(255,255,255,0.2);
  }
  .header-link-naver:hover {
    background: #02b04f;
    transform: translateY(-1px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  }
  .header-link-official {
    background: rgba(255,255,255,0.12);
    color: rgba(255,255,255,0.92);
    border: 1px solid rgba(255,255,255,0.3);
  }
  .header-link-official:hover {
    background: rgba(255,255,255,0.22);
    transform: translateY(-1px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  }
  .link-arrow {
    font-size: 11px;
    opacity: 0.8;
  }

  /* â”€â”€ PWA INSTALL BUTTON â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  #installButton {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: linear-gradient(135deg, #1a5c3a 0%, #2d7a52 100%);
    color: white;
    border: none;
    padding: 14px 22px;
    border-radius: 50px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(26, 92, 58, 0.4);
    z-index: 1000;
    animation: pulse 2s infinite;
    font-family: 'Noto Sans KR', sans-serif;
    letter-spacing: -0.02em;
  }
  
  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 4px 20px rgba(26, 92, 58, 0.4);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 0 6px 25px rgba(26, 92, 58, 0.6);
    }
  }
  
  #installButton:hover {
    background: linear-gradient(135deg, #0f3d24 0%, #1a5c3a 100%);
    transform: scale(1.05);
  }
  
  #installButton:active {
    transform: scale(0.95);
  }

  /* â”€â”€ STATS BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .stats-bar {
    background: white;
    border-bottom: 1px solid #e8e8e8;
    padding: 16px 20px;
    display: flex;
    justify-content: center;
    gap: 0;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  .stat-item {
    flex: 1;
    max-width: 120px;
    text-align: center;
    padding: 8px 12px;
    border-right: 1px solid #eee;
    min-width: 80px;
  }
  .stat-item:last-child { border-right: none; }
  .stat-number {
    font-size: clamp(18px, 4vw, 24px);
    font-weight: 900;
    color: var(--green-deep);
    line-height: 1;
  }
  .stat-label {
    font-size: 10px;
    color: var(--text-light);
    margin-top: 3px;
    font-weight: 400;
  }

  /* â”€â”€ SEARCH SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .search-section {
    padding: 22px 16px 16px;
    max-width: 720px;
    margin: 0 auto;
  }
  .search-wrapper {
    position: relative;
  }
  .search-input {
    width: 100%;
    padding: 14px 20px 14px 50px;
    border: 2.5px solid var(--green-border);
    border-radius: 50px;
    font-size: 15px;
    font-family: 'Noto Sans KR', sans-serif;
    background: white;
    color: var(--text-dark);
    outline: none;
    transition: box-shadow 0.2s, border-color 0.2s;
    box-shadow: 0 2px 8px rgba(26,92,58,0.1);
  }
  .search-input:focus {
    border-color: var(--green-mid);
    box-shadow: 0 2px 16px rgba(26,92,58,0.2);
  }
  .search-input::placeholder {
    color: #aaa;
    font-size: 14px;
  }
  .search-icon {
    position: absolute;
    left: 18px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--green-deep);
    font-size: 18px;
    pointer-events: none;
    line-height: 1;
  }
  .search-clear {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    background: #eee;
    border: none;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    font-size: 14px;
    cursor: pointer;
    display: none;
    align-items: center;
    justify-content: center;
    color: #666;
  }
  .search-clear.visible { display: flex; }

  /* â”€â”€ FILTER ROW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .filter-row {
    max-width: 720px;
    margin: 0 auto;
    padding: 0 16px 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }
  .filter-label {
    font-size: 12px;
    color: var(--text-light);
    font-weight: 500;
    white-space: nowrap;
  }
  .filter-btn {
    padding: 6px 14px;
    border: 1.5px solid #ddd;
    border-radius: 20px;
    background: white;
    font-size: 12px;
    font-family: 'Noto Sans KR', sans-serif;
    color: var(--text-mid);
    cursor: pointer;
    transition: all 0.15s;
    white-space: nowrap;
  }
  .filter-btn:hover { border-color: var(--green-mid); color: var(--green-deep); }
  .filter-btn.active {
    background: var(--green-deep);
    border-color: var(--green-deep);
    color: white;
    font-weight: 500;
  }
  .sort-select {
    margin-left: auto;
    padding: 6px 12px;
    border: 1.5px solid #ddd;
    border-radius: 20px;
    background: white;
    font-size: 12px;
    font-family: 'Noto Sans KR', sans-serif;
    color: var(--text-mid);
    cursor: pointer;
    outline: none;
  }

  /* â”€â”€ REVIEW COUNT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .review-count-bar {
    max-width: 720px;
    margin: 0 auto;
    padding: 0 16px 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .review-count-text {
    font-size: 13px;
    color: var(--text-mid);
    font-weight: 500;
  }
  .review-count-text strong {
    color: var(--green-deep);
  }

  /* â”€â”€ REVIEW LIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .review-list {
    max-width: 720px;
    margin: 0 auto;
    padding: 0 16px 80px;
  }
  .review-card {
    background: white;
    border-radius: var(--radius);
    padding: 18px;
    margin-bottom: 10px;
    box-shadow: var(--shadow);
    border: 1px solid #f0f0f0;
    transition: transform 0.15s, box-shadow 0.15s;
  }
  .review-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }
  .review-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 10px;
  }
  .stars {
    color: #f5a623;
    font-size: 15px;
    letter-spacing: 1px;
    line-height: 1;
  }
  .review-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }
  .review-badge {
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    font-weight: 600;
    letter-spacing: 0.02em;
  }
  .badge-positive { background: #e8f5ee; color: var(--green-deep); }
  .badge-neutral  { background: #fff3e0; color: #e65100; }
  .badge-cancer   { background: #fce4ec; color: #c62828; }
  .badge-diabetes { background: #e3f2fd; color: #1565c0; }
  .badge-collagen { background: #f3e5f5; color: #6a1b9a; }
  .review-date {
    font-size: 11px;
    color: #bbb;
    white-space: nowrap;
  }
  .review-body {
    font-size: 14px;
    line-height: 1.7;
    color: var(--text-dark);
  }
  .review-body .highlight {
    background: rgba(26,92,58,0.1);
    color: var(--green-deep);
    border-radius: 3px;
    padding: 0 2px;
    font-weight: 500;
  }
  .review-author {
    margin-top: 10px;
    font-size: 11px;
    color: var(--text-light);
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .author-dot {
    width: 6px; height: 6px;
    border-radius: 50%;
    background: var(--green-mid);
    display: inline-block;
  }

  /* â”€â”€ LOAD MORE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .load-more-wrap {
    max-width: 720px;
    margin: 0 auto;
    padding: 0 16px 40px;
    text-align: center;
  }
  .load-more-btn {
    padding: 13px 40px;
    background: var(--green-deep);
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 14px;
    font-family: 'Noto Sans KR', sans-serif;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s, transform 0.15s;
    box-shadow: 0 3px 12px rgba(26,92,58,0.25);
  }
  .load-more-btn:hover {
    background: var(--green-mid);
    transform: translateY(-1px);
  }
  .load-more-btn:disabled {
    background: #ccc;
    cursor: default;
    transform: none;
    box-shadow: none;
  }

  /* â”€â”€ OFFICIAL NOTE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .official-note {
    max-width: 720px;
    margin: 0 auto;
    padding: 0 16px 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    background: none;
  }
  .official-note-inner {
    background: var(--green-light);
    border: 1px solid rgba(26,92,58,0.2);
    border-radius: 8px;
    padding: 10px 14px;
    font-size: 12px;
    color: var(--green-deep);
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
  }
  .official-note-inner a {
    color: var(--green-deep);
    font-weight: 600;
    text-decoration: none;
  }
  .official-note-inner a:hover { text-decoration: underline; }

  /* â”€â”€ NO RESULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .no-results {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-light);
  }
  .no-results-icon { font-size: 40px; margin-bottom: 12px; }
  .no-results-text { font-size: 15px; margin-bottom: 6px; }
  .no-results-sub  { font-size: 13px; }

  /* â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .site-footer {
    background: var(--green-deep);
    color: rgba(255,255,255,0.6);
    text-align: center;
    padding: 20px;
    font-size: 12px;
  }
  .site-footer a { color: rgba(255,255,255,0.8); text-decoration: none; }

  /* â”€â”€ LOADING SPINNER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .spinner {
    display: inline-block;
    width: 18px; height: 18px;
    border: 2px solid rgba(255,255,255,0.4);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
    vertical-align: middle;
    margin-right: 6px;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  @media (max-width: 480px) {
    .stats-bar { gap: 0; }
    .stat-item { min-width: 70px; padding: 6px 8px; }
    .review-card { padding: 14px; }
  }
</style>
</head>
<body>

<!-- HEADER -->
<header class="site-header">
  <div class="header-badge">ğŸ“‹ ê³µì‹ ì¸ì¦ ë¦¬ë·° Â· ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´</div>
  <h1 class="site-title">VENUSTARS Reviews</h1>
  <p class="site-subtitle">ì‹¤ì œ ê³ ê° 17,145ëª…ì˜ ì‚¬ìš© í›„ê¸°</p>
  <div class="product-tags">
    <span class="product-tag active" data-product="all">ì „ì²´</span>
    <span class="product-tag" data-product="ìºë¹„ì´ˆí¬">Cabbichoke</span>
    <span class="product-tag" data-product="ì½œë¼ê²">Collagen</span>
    <span class="product-tag" data-product="ë‹¤ì´ì•„ëª¬ë“œ í„">Diamond Pearl</span>
    <span class="product-tag" data-product="ì•ˆí‹°ì—ì´ì§•">Anti-Aging</span>
  </div>
  <div class="header-links">
    <a href="https://smartstore.naver.com/venustars" target="_blank" rel="noopener" class="header-link header-link-naver">
      ğŸ›’ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ë°”ë¡œê°€ê¸° <span class="link-arrow">â†—</span>
    </a>
    <a href="https://venustars.com/" target="_blank" rel="noopener" class="header-link header-link-official">
      ğŸ  ë³¸ì‚¬ ì§ì˜ëª° ë°”ë¡œê°€ê¸° <span class="link-arrow">â†—</span>
    </a>
  </div>
</header>

<!-- STATS BAR -->
<div class="stats-bar">
  <div class="stat-item">
    <div class="stat-number">17,145</div>
    <div class="stat-label">ì´ ë¦¬ë·°</div>
  </div>
  <div class="stat-item">
    <div class="stat-number">4.9â˜…</div>
    <div class="stat-label">í‰ê·  í‰ì </div>
  </div>
  <div class="stat-item">
    <div class="stat-number">98.2%</div>
    <div class="stat-label">ê¸ì • í‰ê°€</div>
  </div>
  <div class="stat-item">
    <div class="stat-number">15,327</div>
    <div class="stat-label">5ì„± ë¦¬ë·°</div>
  </div>
</div>

<!-- SEARCH -->
<div class="search-section">
  <div class="search-wrapper">
    <span class="search-icon">ğŸ”</span>
    <input
      type="search"
      class="search-input"
      id="searchInput"
      placeholder="ì˜ˆ: í•­ì•”, ê³ í˜ˆì••, ë‹¹ë‡¨, ê³ ì§€í˜ˆì¦, í†µì¦, ì‹œë ¥"
      autocomplete="off"
      inputmode="search"
    >
    <button class="search-clear" id="clearBtn" aria-label="ê²€ìƒ‰ì–´ ì§€ìš°ê¸°">âœ•</button>
  </div>
</div>

<!-- FILTERS -->
<div class="filter-row">
  <span class="filter-label">í‰ì :</span>
  <button class="filter-btn active" data-rating="all">ì „ì²´</button>
  <button class="filter-btn" data-rating="5">5ì </button>
  <button class="filter-btn" data-rating="4">4ì </button>
  <button class="filter-btn" data-rating="3">3ì </button>
  <select class="sort-select" id="sortSelect">
    <option value="recent">ìµœì‹ ìˆœ</option>
    <option value="rating">í‰ì ìˆœ</option>
  </select>
</div>

<!-- OFFICIAL NOTE -->
<div class="official-note">
  <div class="official-note-inner">
    ğŸ“‹ ì´ ë¦¬ë·°ëŠ” VENUSTARS ì§ì˜ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ê³µì‹ í›„ê¸°ì…ë‹ˆë‹¤ Â·
    <a href="https://smartstore.naver.com/venustars" target="_blank">ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ë°”ë¡œê°€ê¸° â†’</a>
  </div>
</div>

<!-- REVIEW COUNT -->
<div class="review-count-bar">
  <div class="review-count-text" id="countText"><strong>17,145</strong>ê°œ ë¦¬ë·°</div>
</div>

<!-- REVIEW LIST -->
<div class="review-list" id="reviewList"></div>

<!-- LOAD MORE -->
<div class="load-more-wrap" id="loadMoreWrap">
  <button class="load-more-btn" id="loadMoreBtn">ë” ë³´ê¸°</button>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  Â© 2026 VENUSTARS | ì—…ë°ì´íŠ¸: 2026.02.15 |
  <a href="https://smartstore.naver.com/venustars" target="_blank">ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´</a>
</footer>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   REVIEW DATA  (sample pool â€” replace with
   full JSON data or GitHub fetch in prod)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const REVIEWS = [
  { id:1, rating:5, date:"2026.02.15", text:"í•­ì•” ì¹˜ë£Œ ì¤‘ì— ë¨¹ê¸° ì‹œì‘í–ˆëŠ”ë° êµ¬ì—­ê°ì´ í›¨ì”¬ ì¤„ì—ˆìŠµë‹ˆë‹¤. ê°€ì¡±ë“¤ì´ ë„ˆë¬´ ë†€ë¼ì›Œí•´ìš”. ì •ë§ ê°ì‚¬í•©ë‹ˆë‹¤.", author:"id***kim", tags:["í•­ì•”","ê¸ì •"] },
  { id:2, rating:5, date:"2026.02.14", text:"ë‹¹ë‡¨ ìˆ˜ì¹˜ê°€ ì‹í›„ í˜ˆë‹¹ì´ ë§ì´ ì•ˆì •ëì–´ìš”. 3ì£¼ì§¸ ë³µìš© ì¤‘ì¸ë° í™•ì‹¤íˆ ë‹¤ë¥´ê²Œ ëŠê»´ì§‘ë‹ˆë‹¤.", author:"id***park", tags:["ë‹¹ë‡¨","ê¸ì •"] },
  { id:3, rating:5, date:"2026.02.14", text:"í”¼ë¡œê°€ ëœí•˜ê³  ê±´ê°•í•´ì§‘ë‹ˆë‹¤. ì½œë¼ê²ë„ ê°™ì´ ë¨¹ëŠ”ë° í”¼ë¶€ê°€ íƒ„ë ¥ ìˆì–´ì¡Œì–´ìš”.", author:"id***lee", tags:["í”¼ë¡œ","ì½œë¼ê²","ê¸ì •"] },
  { id:4, rating:5, date:"2026.02.13", text:"ê³ í˜ˆì•• ì•½ì„ ë¨¹ìœ¼ë©´ì„œ í•¨ê»˜ ë³µìš© ì¤‘ì…ë‹ˆë‹¤. í˜ˆì••ì´ ë§ì´ ì•ˆì •ëê³  ëª¸ì´ ê°€ë²¼ì›Œì§„ ëŠë‚Œ.", author:"id***choi", tags:["ê³ í˜ˆì••","ê¸ì •"] },
  { id:5, rating:5, date:"2026.02.13", text:"ì†Œí™”ê°€ ë„ˆë¬´ ì˜ ë˜ê³  ì†ì´ í¸í•©ë‹ˆë‹¤. ë³€ë¹„ë„ ë§ì´ ì¢‹ì•„ì¡Œì–´ìš”. ì¬êµ¬ë§¤ì…ë‹ˆë‹¤.", author:"id***jung", tags:["ì†Œí™”","ê¸ì •"] },
  { id:6, rating:4, date:"2026.02.12", text:"ê³ ì§€í˜ˆì¦ ìˆ˜ì¹˜ ê°œì„ ì„ ìœ„í•´ ë¨¹ê³  ìˆì–´ìš”. ì•„ì§ ê²€ì‚¬ëŠ” ì•ˆ í–ˆì§€ë§Œ ëª¸ ìƒíƒœëŠ” í›¨ì”¬ ì¢‹ì•„ì§„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.", author:"id***han", tags:["ê³ ì§€í˜ˆì¦","ê¸ì •"] },
  { id:7, rating:5, date:"2026.02.12", text:"ì–´ë¨¸ë‹ˆ í•­ì•” ì¹˜ë£Œ ë¶€ì‘ìš©ì´ ì‹¬í•´ì„œ ì£¼ë¬¸í–ˆì–´ìš”. 2ì£¼ ì§€ë‚˜ë‹ˆ ì…ë§›ë„ ëŒì•„ì˜¤ê³  ê¸°ë ¥ì´ íšŒë³µë˜ì…¨ìŠµë‹ˆë‹¤.", author:"id***yoon", tags:["í•­ì•”","ê¸ì •"] },
  { id:8, rating:5, date:"2026.02.11", text:"ë¬´ë¦ í†µì¦ì´ ìˆì–´ì„œ ê´€ì ˆì— ì¢‹ë‹¤ëŠ” ì„±ë¶„ì´ ë“¤ì–´ìˆì–´ ë¨¹ê¸° ì‹œì‘í–ˆëŠ”ë° ê±·ëŠ” ê²Œ í•œê²° í¸í•´ì¡Œì–´ìš”.", author:"id***oh", tags:["í†µì¦","ê´€ì ˆ","ê¸ì •"] },
  { id:9, rating:5, date:"2026.02.11", text:"ì‹œë ¥ ë³´í˜¸ì— ì¢‹ë‹¤ê³  í•´ì„œ ë¨¹ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ëˆˆ í”¼ë¡œê°€ í™•ì‹¤íˆ ì¤„ì—ˆê³  ì¹¨ì¹¨í•¨ì´ ëœí•´ìš”.", author:"id***shin", tags:["ì‹œë ¥","ê¸ì •"] },
  { id:10, rating:5, date:"2026.02.10", text:"ì½œë¼ê² ì œí’ˆ ì§„ì§œ ì¢‹ì•„ìš”. í”¼ë¶€ ì´‰ì´‰í•¨ì´ ë‹¬ë¼ì¡Œê³  ì†í†±ë„ ì˜ ë¶€ëŸ¬ì§€ì§€ ì•Šì•„ìš”.", author:"id***kang", tags:["ì½œë¼ê²","ê¸ì •"] },
  { id:11, rating:4, date:"2026.02.10", text:"ë‹¹ë‡¨ ê´€ë¦¬ ë•Œë¬¸ì— ë¨¹ê³  ìˆìŠµë‹ˆë‹¤. í˜ˆë‹¹ ìŠ¤íŒŒì´í¬ê°€ ì˜ˆì „ë³´ë‹¤ ë§ì´ ì¤„ì—ˆì–´ìš”. ê¾¸ì¤€íˆ ë¨¹ì„ ì˜ˆì •.", author:"id***lim", tags:["ë‹¹ë‡¨","ê¸ì •"] },
  { id:12, rating:5, date:"2026.02.09", text:"ì•” íˆ¬ë³‘ ì¤‘ì¸ ë‚¨í¸ì„ ìœ„í•´ êµ¬ë§¤í–ˆìŠµë‹ˆë‹¤. í•­ì•”ì œ ë¶€ì‘ìš©ìœ¼ë¡œ ì‹ìš•ì´ ì—†ì—ˆëŠ”ë° ì¡°ê¸ˆì”© ë“œì‹œê²Œ ëì–´ìš”.", author:"id***kwon", tags:["í•­ì•”","ê¸ì •"] },
  { id:13, rating:5, date:"2026.02.09", text:"ê³ í˜ˆì••ê³¼ ê³ ì§€í˜ˆì¦ì„ ê°™ì´ ê°–ê³  ìˆëŠ”ë° í˜ˆì•• ìˆ˜ì¹˜ê°€ ê½¤ ì•ˆì •ëìŠµë‹ˆë‹¤. ì˜ì‚¬ ì„ ìƒë‹˜ë„ ë†€ë¼ì…¨ì–´ìš”.", author:"id***ahn", tags:["ê³ í˜ˆì••","ê³ ì§€í˜ˆì¦","ê¸ì •"] },
  { id:14, rating:3, date:"2026.02.08", text:"íš¨ê³¼ëŠ” ì¡°ê¸ˆì”© ëŠê»´ì§€ëŠ” ê²ƒ ê°™ì€ë° ì•„ì§ í™•ì‹¤í•˜ì§€ ì•Šì•„ìš”. ì¢€ ë” ë¨¹ì–´ë´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.", author:"id***song", tags:[] },
  { id:15, rating:5, date:"2026.02.08", text:"ë¹„ì—¼ì´ ìˆì–´ì„œ ë¨¹ê¸° ì‹œì‘í–ˆëŠ”ë° ì½”ë§‰í˜ì´ í›¨ì”¬ ì¤„ì—ˆì–´ìš”. ì´ë²ˆ ê²¨ìš¸ì€ ì˜ˆì „ë³´ë‹¤ í›¨ì”¬ í¸í•˜ê²Œ ì§€ëƒˆìŠµë‹ˆë‹¤.", author:"id***bae", tags:["ë¹„ì—¼","ê¸ì •"] },
  { id:16, rating:5, date:"2026.02.07", text:"í†µì¦ì´ ì‹¬í•´ì„œ ë¨¹ê¸° ì‹œì‘í–ˆì–´ìš”. ì‹ ê²½í†µ ìˆëŠ” ë¶€ìœ„ê°€ ë§ì´ ë‚˜ì•„ì¡ŒìŠµë‹ˆë‹¤. ì •ë§ ëŒ€ë§Œì¡±.", author:"id***yang", tags:["í†µì¦","ê¸ì •"] },
  { id:17, rating:5, date:"2026.02.07", text:"ë‹¤ì´ì•„ëª¬ë“œ í„ ì•ˆí‹°ì—ì´ì§• ì œí’ˆì´ì—ìš”. í”¼ë¶€ íƒ„ë ¥ì´ í™•ì‹¤íˆ ì¢‹ì•„ì¡Œê³  ì£¼ë¦„ë„ ì˜…ì–´ì§„ ê²ƒ ê°™ì•„ìš”.", author:"id***jang", tags:["ì•ˆí‹°ì—ì´ì§•","ì½œë¼ê²","ê¸ì •"] },
  { id:18, rating:5, date:"2026.02.06", text:"í•­ì•” 4ì°¨ ì¹˜ë£Œ ì¤‘ì¸ë° êµ¬í† ê°ì´ ë§ì´ ì¤„ì—ˆìŠµë‹ˆë‹¤. ì˜ë£Œì§„ì—ê²Œë„ ë§ì”€ë“œë ¸ë”ë‹ˆ ê³„ì† ë“œì‹œë¼ í•˜ì…¨ì–´ìš”.", author:"id***chun", tags:["í•­ì•”","ê¸ì •"] },
  { id:19, rating:4, date:"2026.02.06", text:"ì†Œí™”ì— ë„ì›€ì´ ë§ì´ ë©ë‹ˆë‹¤. ìœ„ì¥ì´ ì•½í•´ì„œ ê³ ë¯¼ì´ ë§ì•˜ëŠ”ë° ì†ì´ í¸ì•ˆí•´ì¡Œì–´ìš”.", author:"id***nam", tags:["ì†Œí™”","ê¸ì •"] },
  { id:20, rating:5, date:"2026.02.05", text:"í˜ˆë‹¹ì´ ì‹ì‚¬ í›„ì—ë„ í¬ê²Œ ì˜¤ë¥´ì§€ ì•Šì•„ì„œ ë„ˆë¬´ ì¢‹ì•„ìš”. ë‹¹ë‡¨ ì „ë‹¨ê³„ë¼ ê´€ë¦¬ ì¤‘ì¸ë° ì •ë§ ë„ì›€ì´ ë¼ìš”.", author:"id***seo", tags:["ë‹¹ë‡¨","ê¸ì •"] },
  { id:21, rating:5, date:"2026.02.05", text:"ì‹œë ¥ì´ ë‚˜ë¹ ì§ˆê¹Œ ë´ ê±±ì •ë¼ì„œ ë¨¹ì—ˆëŠ”ë° ëˆˆì´ ë§‘ì•„ì§€ëŠ” ëŠë‚Œ. ë£¨í…Œì¸ íš¨ê³¼ í™•ì‹¤í•©ë‹ˆë‹¤.", author:"id***hong", tags:["ì‹œë ¥","ê¸ì •"] },
  { id:22, rating:5, date:"2026.02.04", text:"ì½œë ˆìŠ¤í…Œë¡¤ ìˆ˜ì¹˜ê°€ ì¡°ê¸ˆ ë†’ì•„ì„œ ì‹ì´ìš”ë²•ì´ë‘ ê°™ì´ ë¨¹ê³  ìˆì–´ìš”. ìµœê·¼ ê²€ì‚¬ì—ì„œ ìˆ˜ì¹˜ê°€ ë‚´ë ¤ì™”ìŠµë‹ˆë‹¤.", author:"id***moon", tags:["ê³ ì§€í˜ˆì¦","ê¸ì •"] },
  { id:23, rating:5, date:"2026.02.04", text:"ê´€ì ˆì´ ë»‘ë»‘í•˜ê³  ì•„íŒ ëŠ”ë° 2ë‹¬ì§¸ ë¨¹ìœ¼ë‹ˆ í›¨ì”¬ ë¶€ë“œëŸ¬ì›Œì¡Œì–´ìš”. ì•„ì¹¨ì— ì¼ì–´ë‚˜ê¸°ê°€ í•œê²° ì‰¬ì›Œìš”.", author:"id***ryu", tags:["ê´€ì ˆ","í†µì¦","ê¸ì •"] },
  { id:24, rating:5, date:"2026.02.03", text:"í•­ì•” ì¹˜ë£Œ í›„ íšŒë³µì— ë„ì›€ì´ ë©ë‹ˆë‹¤. ì‹ìš•ë„ ëŒì•„ì˜¤ê³  ì²´ë ¥ë„ ì„œì„œíˆ íšŒë³µë˜ëŠ” ì¤‘ì´ì—ìš”.", author:"id***jeon", tags:["í•­ì•”","ê¸ì •"] },
  { id:25, rating:4, date:"2026.02.03", text:"ê³ í˜ˆì•• ì•½ì´ë‘ ê°™ì´ ë³µìš©í•˜ê³  ìˆì–´ìš”. ë‘í†µì´ ì¤„ê³  ì–´ì§€ëŸ¬ì›€ë„ ëœí•©ë‹ˆë‹¤.", author:"id***woo", tags:["ê³ í˜ˆì••","ê¸ì •"] },
  { id:26, rating:5, date:"2026.02.02", text:"í”¼ë¶€ê°€ ì´‰ì´‰í•´ì§€ê³  íƒ„ë ¥ì´ ì¢‹ì•„ì¡Œì–´ìš”. ë‹¤ì´ì•„ëª¬ë“œ í„ì´ë‘ ê°™ì´ ë¨¹ìœ¼ë‹ˆ ì‹œë„ˆì§€ íš¨ê³¼ê°€ ìˆëŠ” ê²ƒ ê°™ì•„ìš”.", author:"id***heo", tags:["ì•ˆí‹°ì—ì´ì§•","ì½œë¼ê²","ê¸ì •"] },
  { id:27, rating:5, date:"2026.02.02", text:"ë¹„ì—¼ìœ¼ë¡œ ê³ ìƒí–ˆëŠ”ë° ì½” ì ë§‰ì´ ê±´ê°•í•´ì§„ ëŠë‚Œì´ì—ìš”. ì¬ì±„ê¸° íšŸìˆ˜ê°€ ë§ì´ ì¤„ì—ˆìŠµë‹ˆë‹¤.", author:"id***im", tags:["ë¹„ì—¼","ê¸ì •"] },
  { id:28, rating:5, date:"2026.02.01", text:"ë‹¹ë‡¨ í•©ë³‘ì¦ ê±±ì •ìœ¼ë¡œ ë¨¹ê¸° ì‹œì‘í–ˆëŠ”ë° ì „ë°˜ì ì¸ ì»¨ë””ì…˜ì´ ì¢‹ì•„ì¡Œì–´ìš”. í˜ˆë‹¹ ê´€ë¦¬ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.", author:"id***cho", tags:["ë‹¹ë‡¨","ê¸ì •"] },
  { id:29, rating:3, date:"2026.01.31", text:"ë§›ì€ ì¢‹ì€ë° íš¨ê³¼ê°€ ë°”ë¡œ ë‚˜íƒ€ë‚˜ì§€ëŠ” ì•Šì•„ìš”. ì¥ê¸° ë³µìš©í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.", author:"id***go", tags:[] },
  { id:30, rating:5, date:"2026.01.31", text:"ì•” ìˆ˜ìˆ  í›„ íšŒë³µì„ ìœ„í•´ êµ¬ë§¤í–ˆì–´ìš”. í•­ì•”ì œ ë¶€ì‘ìš©ì´ ë§ì´ ì¤„ê³  ê¸°ë ¥ì´ ëŒì•„ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.", author:"id***do", tags:["í•­ì•”","ê¸ì •"] },
];

/* â”€â”€ íƒœê·¸ ë¶„ë¥˜ ë§¤í•‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const TAG_MAP = {
  "í•­ì•”":    ["í•­ì•”","ì•”","í•­ì•”ì¹˜ë£Œ","ì•”ì¹˜ë£Œ","ë¶€ì‘ìš©","êµ¬í† ","ì…ë§›","í•­ì•”ì œ"],
  "ë‹¹ë‡¨":    ["ë‹¹ë‡¨","í˜ˆë‹¹","í˜ˆë‹¹ìˆ˜ì¹˜","í˜ˆë‹¹ê´€ë¦¬","ë‹¹ë‡¨ì „ë‹¨ê³„","ì‹í›„í˜ˆë‹¹","ì¸ìŠë¦°"],
  "ê³ í˜ˆì••":  ["ê³ í˜ˆì••","í˜ˆì••","í˜ˆì••ì•½","ë‘í†µ","ì–´ì§€ëŸ¬ì›€"],
  "ê³ ì§€í˜ˆì¦":["ê³ ì§€í˜ˆì¦","ì½œë ˆìŠ¤í…Œë¡¤","ì¤‘ì„±ì§€ë°©"],
  "í†µì¦":    ["í†µì¦","ì‹ ê²½í†µ","ë¬´ë¦","ê´€ì ˆí†µ","ì•„í””"],
  "ì‹œë ¥":    ["ì‹œë ¥","ëˆˆ","ëˆˆí”¼ë¡œ","ì¹¨ì¹¨","ë£¨í…Œì¸","í™©ë°˜"],
  "ì†Œí™”":    ["ì†Œí™”","ìœ„ì¥","ì†","ë³€ë¹„","ì¥"],
  "ì½œë¼ê²":  ["ì½œë¼ê²","í”¼ë¶€","íƒ„ë ¥","ì£¼ë¦„","ì´‰ì´‰","ì†í†±"],
  "ì•ˆí‹°ì—ì´ì§•":["ì•ˆí‹°ì—ì´ì§•","ë‹¤ì´ì•„ëª¬ë“œ","ë…¸í™”"],
  "ë¹„ì—¼":    ["ë¹„ì—¼","ì½”ë§‰í˜","ì½”","ì•Œë ˆë¥´ê¸°","ì¬ì±„ê¸°"],
  "ê´€ì ˆ":    ["ê´€ì ˆ","ë¬´ë¦","ë»‘ë»‘","ì—°ê³¨"],
  "í”¼ë¡œ":    ["í”¼ë¡œ","ê¸°ë ¥","ì²´ë ¥","ì—ë„ˆì§€"],
};

/* â”€â”€ ê²€ìƒ‰ìš© ì¸ë±ìŠ¤ ë¯¸ë¦¬ ê³„ì‚° (ì†ë„ ìµœì í™”) â”€â”€ */
const SYNONYMS_FLAT = Object.values(TAG_MAP).flat(); // highlightTextìš© ìºì‹œ
// ê° ë¦¬ë·°ì˜ ê²€ìƒ‰ í…ìŠ¤íŠ¸ë¥¼ ë¯¸ë¦¬ ì†Œë¬¸ìë¡œ ë³€í™˜í•´ ì €ì¥
REVIEWS.forEach(r => {
  r._searchText = (r.text + " " + r.tags.join(" ")).toLowerCase();
});
// TAG_MAP í‚¤+ë™ì˜ì–´ë¥¼ ì†Œë¬¸ì ë‹¨ì¼ ë°°ì—´ë¡œ ë¯¸ë¦¬ í¼ì¹˜ê¸°
const TAG_SEARCH_LIST = Object.entries(TAG_MAP).map(([key, synonyms]) => ({
  key: key.toLowerCase(),
  synonyms: synonyms.map(s => s.toLowerCase()),
  all: [key.toLowerCase(), ...synonyms.map(s => s.toLowerCase())]
}));

/* â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
let filteredReviews = [...REVIEWS];
let currentPage    = 1;
const PER_PAGE     = 10;
let activeProduct  = "all";
let activeRating   = "all";
let searchQuery    = "";
let sortOrder      = "recent";

/* â”€â”€ DOM REFS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const searchInput  = document.getElementById("searchInput");
const clearBtn     = document.getElementById("clearBtn");
const reviewList   = document.getElementById("reviewList");
const loadMoreBtn  = document.getElementById("loadMoreBtn");
const loadMoreWrap = document.getElementById("loadMoreWrap");
const countText    = document.getElementById("countText");

/* â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function starsHTML(n) {
  return "â˜…".repeat(n) + "â˜†".repeat(5-n);
}
function matchesSearch(review, query) {
  if (!query) return true;
  const q = query.toLowerCase();
  // 1. ë¦¬ë·° í…ìŠ¤íŠ¸+íƒœê·¸ì—ì„œ ì§ì ‘ ê²€ìƒ‰ (ë¯¸ë¦¬ ì†Œë¬¸ì ë³€í™˜ëœ _searchText ì‚¬ìš©)
  if (review._searchText.includes(q)) return true;
  // 2. TAG_MAP ë™ì˜ì–´ ê²€ìƒ‰ (ë¯¸ë¦¬ ê³„ì‚°ëœ TAG_SEARCH_LIST ì‚¬ìš©)
  for (const entry of TAG_SEARCH_LIST) {
    if (entry.all.some(term => term.includes(q) || q.includes(term))) {
      if (review._searchText.split(/[\s,.]+/).some(w => entry.all.some(s => w.includes(s)))) return true;
    }
  }
  return false;
}
function matchesProduct(review, product) {
  if (product === "all") return true;
  return review.tags.includes(product) ||
         review.text.includes(product) ||
         (product === "ìºë¹„ì´ˆí¬" && (review.tags.includes("ë‹¹ë‡¨") || review.tags.includes("í•­ì•”") || review.tags.includes("ì†Œí™”"))) ||
         (product === "ì½œë¼ê²"   && (review.tags.includes("ì½œë¼ê²") || review.tags.includes("í”¼ë¡œ"))) ||
         (product === "ë‹¤ì´ì•„ëª¬ë“œ í„" && (review.tags.includes("ì•ˆí‹°ì—ì´ì§•"))) ||
         (product === "ì•ˆí‹°ì—ì´ì§•" && (review.tags.includes("ì•ˆí‹°ì—ì´ì§•") || review.tags.includes("ì½œë¼ê²")));
}
function highlightText(text, query) {
  if (!query) return text;
  // SYNONYMS_FLATì€ ì´ë¯¸ ìºì‹±ë¨ â€” ë§¤ë²ˆ ì¬ê³„ì‚° ì—†ìŒ
  const allTerms = [query, ...SYNONYMS_FLAT.filter(s => s.includes(query) || query.includes(s))];
  let result = text;
  allTerms.forEach(term => {
    if (term.length < 2) return;
    const re = new RegExp(`(${term.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')})`, 'gi');
    result = result.replace(re, '<span class="highlight">$1</span>');
  });
  return result;
}
function badgeHTML(tags) {
  if (tags.includes("í•­ì•”"))    return '<span class="review-badge badge-cancer">í•­ì•”</span>';
  if (tags.includes("ë‹¹ë‡¨"))    return '<span class="review-badge badge-diabetes">ë‹¹ë‡¨</span>';
  if (tags.includes("ì½œë¼ê²") || tags.includes("ì•ˆí‹°ì—ì´ì§•")) return '<span class="review-badge badge-collagen">ì½œë¼ê²</span>';
  if (tags.includes("ê¸ì •"))    return '<span class="review-badge badge-positive">ê¸ì •</span>';
  return '<span class="review-badge badge-neutral">ë³´í†µ</span>';
}

/* â”€â”€ FILTER & RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function applyFilters() {
  filteredReviews = REVIEWS.filter(r => {
    return matchesProduct(r, activeProduct) &&
           (activeRating === "all" || r.rating === parseInt(activeRating)) &&
           matchesSearch(r, searchQuery);
  });
  if (sortOrder === "rating") {
    filteredReviews.sort((a,b) => b.rating - a.rating || b.id - a.id);
  } else {
    filteredReviews.sort((a,b) => b.id - a.id);
  }
  currentPage = 1;
  renderReviews(false);
  updateCount();
}

function renderReviews(append) {
  const start = 0;
  const end   = currentPage * PER_PAGE;
  const slice = filteredReviews.slice(start, end);

  if (!append) reviewList.innerHTML = "";

  if (filteredReviews.length === 0) {
    reviewList.innerHTML = `
      <div class="no-results">
        <div class="no-results-icon">ğŸ”</div>
        <div class="no-results-text">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>
        <div class="no-results-sub">ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ ë³´ì„¸ìš” (ì˜ˆ: í•­ì•”, ë‹¹ë‡¨, í˜ˆì••)</div>
      </div>`;
    loadMoreWrap.style.display = "none";
    return;
  }

  // Render from last rendered position
  const from = append ? (currentPage - 1) * PER_PAGE : 0;
  const to   = currentPage * PER_PAGE;
  const newSlice = filteredReviews.slice(from, to);

  newSlice.forEach(r => {
    const card = document.createElement("div");
    card.className = "review-card";
    card.innerHTML = `
      <div class="review-top">
        <div>
          <div class="stars">${starsHTML(r.rating)}</div>
          <div class="review-meta" style="margin-top:6px">
            ${badgeHTML(r.tags)}
          </div>
        </div>
        <div class="review-date">${r.date}</div>
      </div>
      <div class="review-body">${highlightText(r.text, searchQuery)}</div>
      <div class="review-author">
        <span class="author-dot"></span>
        ${r.author}
      </div>`;
    reviewList.appendChild(card);
  });

  // Load more button
  if (to >= filteredReviews.length) {
    loadMoreWrap.style.display = "none";
  } else {
    loadMoreWrap.style.display = "block";
    loadMoreBtn.disabled = false;
    loadMoreBtn.textContent = `ë” ë³´ê¸° (${filteredReviews.length - to}ê°œ ë‚¨ìŒ)`;
  }
}

function updateCount() {
  const total = filteredReviews.length;
  const base  = REVIEWS.length.toLocaleString();
  if (searchQuery || activeRating !== "all" || activeProduct !== "all") {
    countText.innerHTML = `<strong>${total.toLocaleString()}</strong>ê°œ ë¦¬ë·° (ì „ì²´ ${base}ê°œ ì¤‘)`;
  } else {
    countText.innerHTML = `<strong>17,145</strong>ê°œ ë¦¬ë·°`;
  }
}

/* â”€â”€ EVENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
searchInput.addEventListener("input", () => {
  searchQuery = searchInput.value.trim();
  clearBtn.classList.toggle("visible", searchQuery.length > 0);
  applyFilters();
});

clearBtn.addEventListener("click", () => {
  searchInput.value = "";
  searchQuery = "";
  clearBtn.classList.remove("visible");
  applyFilters();
  searchInput.focus();
});

// Product tag clicks
document.querySelectorAll(".product-tag").forEach(btn => {
  btn.addEventListener("click", () => {
    document.querySelectorAll(".product-tag").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    activeProduct = btn.dataset.product;
    applyFilters();
  });
});

// Rating filter clicks
document.querySelectorAll(".filter-btn[data-rating]").forEach(btn => {
  btn.addEventListener("click", () => {
    document.querySelectorAll(".filter-btn[data-rating]").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    activeRating = btn.dataset.rating;
    applyFilters();
  });
});

// Sort
document.getElementById("sortSelect").addEventListener("change", e => {
  sortOrder = e.target.value;
  applyFilters();
});

// Load more
loadMoreBtn.addEventListener("click", () => {
  loadMoreBtn.innerHTML = '<span class="spinner"></span>ë¡œë”© ì¤‘...';
  loadMoreBtn.disabled = true;
  setTimeout(() => {
    currentPage++;
    renderReviews(true);
    updateCount();
  }, 400);
});

/* â”€â”€ LOAD FULL DATA FROM reviews.html â”€â”€ */
async function loadFullReviews() {
  try {
    // ë¡œë”© ìƒíƒœ í‘œì‹œ
    reviewList.innerHTML = `
      <div style="text-align:center;padding:60px 20px;color:var(--text-light)">
        <div class="spinner" style="border-color:rgba(26,92,58,0.2);border-top-color:var(--green-deep);margin:0 auto 12px;display:block;"></div>
        <div style="font-size:14px">ì „ì²´ ë¦¬ë·° ë°ì´í„° ë¡œë”© ì¤‘...</div>
      </div>`;

    const res = await fetch('reviews.html');
    if (!res.ok) throw new Error('reviews.html ë¡œë“œ ì‹¤íŒ¨');
    const html = await res.text();

    // reviews.html ì•ˆì˜ allReviews ë°°ì—´ ì¶”ì¶œ (ë³€ìˆ˜ëª… ìë™ íƒì§€)
    let match = html.match(/const allReviews\s*=\s*(\[[\s\S]*?\]);/) ||
                html.match(/var allReviews\s*=\s*(\[[\s\S]*?\]);/) ||
                html.match(/let allReviews\s*=\s*(\[[\s\S]*?\]);/) ||
                html.match(/const REVIEWS\s*=\s*(\[[\s\S]*?\]);/) ||
                html.match(/var REVIEWS\s*=\s*(\[[\s\S]*?\]);/) ||
                html.match(/const reviews\s*=\s*(\[[\s\S]*?\]);/);
    if (!match) throw new Error('ë¦¬ë·° ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');

    const rawData = JSON.parse(match[1]);

    // reviews.htmlì˜ í•„ë“œëª…(content)ì„ index.html í˜•ì‹(text)ìœ¼ë¡œ ë³€í™˜
    const fullData = rawData.map((r, i) => ({
      id:     r.id    || i + 1,
      rating: r.rating,
      date:   r.date  || '',
      text:   r.content || r.text || '',   // content â†’ text ë³€í™˜
      author: r.author || '',
      tags:   r.tags  || []
    }));

    // ê²€ìƒ‰ìš© ì¸ë±ìŠ¤ ë¯¸ë¦¬ ê³„ì‚°
    fullData.forEach(r => {
      r._searchText = (r.text + " " + r.tags.join(" ")).toLowerCase();
    });

    // ì „ì²´ ë°ì´í„°ë¡œ êµì²´
    REVIEWS.length = 0;
    fullData.forEach(r => REVIEWS.push(r));

    // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
    countText.innerHTML = `<strong>${REVIEWS.length.toLocaleString()}</strong>ê°œ ë¦¬ë·°`;

    // í—¤ë” í†µê³„ë„ ì—…ë°ì´íŠ¸
    const statNumbers = document.querySelectorAll('.stat-number');
    if (statNumbers[0]) statNumbers[0].textContent = REVIEWS.length.toLocaleString();

    applyFilters();

  } catch (e) {
    // reviews.html ë¡œë“œ ì‹¤íŒ¨ ì‹œ ìƒ˜í”Œ 30ê°œë¡œ í´ë°±
    console.warn('ì „ì²´ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨, ìƒ˜í”Œ ë°ì´í„°ë¡œ í‘œì‹œí•©ë‹ˆë‹¤:', e.message);
    // ìƒë‹¨ì— ì•ˆë‚´ ë°°ë„ˆ í‘œì‹œ
    const banner = document.createElement('div');
    banner.style.cssText = 'max-width:720px;margin:0 auto;padding:0 16px 12px;';
    banner.innerHTML = `
      <div style="background:#fff3e0;border:1px solid #ffb74d;border-radius:8px;padding:10px 14px;
                  font-size:12px;color:#e65100;display:flex;align-items:center;gap:8px;">
        âš ï¸ ì „ì²´ ë¦¬ë·° ë¡œë“œ ì‹¤íŒ¨ â€” ìƒ˜í”Œ 30ê°œë§Œ í‘œì‹œë©ë‹ˆë‹¤.
        reviews.htmlì´ ê°™ì€ í´ë”ì— ìˆëŠ”ì§€ í™•ì¸í•´ ì£¼ì„¸ìš”.
      </div>`;
    reviewList.parentNode.insertBefore(banner, reviewList);
    applyFilters();
  }
}

/* â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
loadFullReviews();
</script>

<!-- PWA ì„¤ì¹˜ ë²„íŠ¼ -->
<button id="installButton">
  ğŸ“± ì•±ìœ¼ë¡œ ì¶”ê°€í•˜ê¸°
</button>

<!-- PWA Service Worker ë“±ë¡ ë° ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ -->
<script src="/pwa-install.js"></script>

</body>
</html>
